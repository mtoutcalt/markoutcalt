---
import Layout from '../../../layouts/BasePage.astro';
import { articles } from '../../../data/articles.js';

// Count total articles
const totalArticles = articles.reduce((sum, month) => sum + month.articles.length, 0);
---

<Layout
	title="Articles"
	description="Curated articles and blog posts I've found valuable, organized by month"
>

<section>

<div class="months-list">
{articles.map((monthData) => (
	<div class="month-section">
		<h2 class="month-title">{monthData.month}</h2>
		<div class="articles-list">
			{monthData.articles.map((article) => (
				<a class="article-card" href={article.url} target="_blank" rel="noopener noreferrer">
					<h3 class="article-title">
						{article.title} <span class="external-icon">â†—</span>
					</h3>
					{article.summary && (
						<p class="article-summary">{article.summary}</p>
					)}
				</a>
			))}
		</div>
	</div>
))}
</div>

{totalArticles === 0 && (
	<p class="empty-state">No articles yet. Check back soon!</p>
)}
</section>

</Layout>

<style>
	section {
		margin: 2rem;
		margin-bottom: 4rem;
	}

	.months-list {
		display: flex;
		flex-direction: column;
		gap: 3rem;
	}

	.month-section {
		border-left: 3px solid var(--color-theme-1);
		padding-left: 1.5rem;
	}

	.month-title {
		color: var(--color-theme-1);
		font-size: 1.5rem;
		margin: 0 0 1.5rem 0;
		font-family: 'Jost', sans-serif;
	}

	.articles-list {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
	}

	.article-card {
		display: block;
		border: 1px solid var(--color-theme-2);
		border-radius: 8px;
		padding: 1.25rem;
		background: var(--bg-color);
		transition: transform 0.2s ease, box-shadow 0.2s ease;
		text-decoration: none;
		color: inherit;
		cursor: pointer;
	}

	.article-card:hover {
		transform: translateX(4px);
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
	}

	.article-card:hover .article-title {
		color: var(--color-theme-1);
	}

	.article-title {
		margin: 0 0 0.5rem 0;
		font-size: 1.1rem;
		line-height: 1.4;
		color: var(--text-color);
		transition: color 0.2s ease;
	}

	.external-icon {
		font-size: 0.85em;
		opacity: 0.6;
	}

	.article-summary {
		margin: 0;
		line-height: 1.6;
		color: var(--text-color);
		opacity: 0.9;
		font-size: 0.95rem;
	}

	.empty-state {
		text-align: center;
		color: var(--text-color);
		opacity: 0.6;
		font-size: 1.1rem;
		margin: 3rem 0;
	}

	@media (max-width: 768px) {
		section {
			margin: 1rem;
		}

		.month-section {
			padding-left: 1rem;
		}
	}
</style>
